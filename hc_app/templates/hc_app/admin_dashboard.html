{% extends 'hc_app/base.html' %}
{% load static %}
{% block title %}Admin Sales Dashboard{% endblock %}

{% block content %}
<h1>Admin Sales & Bookings</h1>
<div class="mb-3 d-flex gap-2 align-items-center">
  <label class="small mb-0">Start:</label>
  <input id="adm-start" type="date" class="form-control form-control-sm w-auto">
  <label class="small mb-0">End:</label>
  <input id="adm-end" type="date" class="form-control form-control-sm w-auto">
  <label class="small mb-0">Category:</label>
  <select id="adm-category" class="form-select form-select-sm w-auto">
    <option value="">All categories</option>
    {% for c in categories %}
      <option value="{{ c.id }}">{{ c.name }}</option>
    {% endfor %}
  </select>
  <button id="adm-refresh" class="btn btn-sm btn-primary">Refresh</button>
</div>

<div class="row">
  <div class="col-md-4">
    <div class="card mb-3 p-3">
      <h5>Total Sales</h5>
      <div id="adm-total-sales" class="h4">â‚±0.00</div>
      <div class="small text-muted">Orders: <span id="adm-total-orders">0</span></div>
    </div>

    <div class="card p-3">
      <h6>Sales by Category</h6>
      <div id="adm-by-category">Loading...</div>
    </div>
  </div>

  <div class="col-md-8">
    <div class="card p-3">
      <h6>Trends (Monthly)</h6>
      <div id="adm-timeseries">Loading...</div>
    </div>
  </div>
</div>

{% endblock %}

{% block scripts %}
<script src="{% static 'hc_app/scripts/admin_dashboard.js' %}"></script>
{% endblock %}
