{% extends 'hc_app/base.html' %}
{% load static %}

{% block content %}
<section id="hero">
    <div class="hero-text">
        <h2>Discover<br>Filipino Crafts</h2>
        <p>Connect with local artisans and find meaningful, customizable crafts that reflect your identity.</p>
    </div>
</section>

<section id="categories" aria-label="Product Categories">
    <h2>Browse Categories</h2>
    <div class="category-list">
        <a href="{% url 'hc_app:category_products' category_name='Fashion' %}" style="text-decoration: none"; class="category-card">
            <h3>Fashion</h3>
            <p>Unique handcrafted pieces</p>
        </a>
        <a href="{% url 'hc_app:category_products' category_name='Needlework' %}" style="text-decoration: none"; class="category-card">
            <h3>Needlework</h3>
        </a>
        <a href="{% url 'hc_app:category_products' category_name='Wood Crafts' %}" style="text-decoration: none"; class="category-card">
            <h3>Wood Crafts</h3>
            <p>Carved sculptures & furniture</p>
        </a>
        <a href="{% url 'hc_app:category_products' category_name='Textile' %}" style="text-decoration: none"; class="category-card">
            <h3>Textile</h3>
            <p>Handwoven fabrics & clothing</p>
        </a>
        <a href="{% url 'hc_app:category_products' category_name='Pottery & Ceramics' %}" style="text-decoration: none"; class="category-card">
            <h3>Pottery & Ceramics</h3>
            <p>Handmade vessels & decor</p>
        </a>
    </div>
</section>

<section id="featured">
    <h2>Featured Crafts</h2>
    <div class="featured-grid">
        {% for product in featured_products %}
        <div class="craft-card">
            <div class="craft-image">
                {% if product.images.count %}
                    <img src="{{ product.images.first.image.url }}" alt="{{ product.name }}" style="width:100%; height:160px; object-fit:cover;" loading="lazy">
                {% else %}
                    <img src="{% static 'hc_app/images/default-product.png' %}" alt="{{ product.name }}" style="width:100%; height:160px; object-fit:cover;" loading="lazy">
                {% endif %}
            </div>
            {% if product.stock|default:0 <= 0 %}
                <span class="badge bg-danger" style="position:absolute; top:12px; right:12px; z-index:10;">Out of stock</span>
            {% endif %}
            <h3><a href="{% url 'hc_app:product_detail' product.id %}">{{ product.name }}</a></h3>
            <p>by {{ product.seller.username }}</p>
            <p class="price">â‚±{{ product.price }}</p>
        </div>
        {% empty %}
        <div class="craft-card">
            <div class="craft-image"></div>
            <h3>No featured crafts yet</h3>
        </div>
        {% endfor %}
    </div>
</section>
{% endblock %}
